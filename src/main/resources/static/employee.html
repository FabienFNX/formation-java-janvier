<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espace Employ√© - Simulation de Pr√™t</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="employee.css">
</head>
<body>
    <div class="container">
        <h1>Espace Employ√© d'Agence</h1>
        <div class="subtitle">Simulation de pr√™t immobilier avec calcul automatique du taux</div>

        <form id="employeeLoanForm" class="loan-form">
            <!-- Informations client -->
            <div class="section-title">üë§ Informations Client</div>

            <div class="form-row">
                <div class="form-group">
                    <label for="firstName">Pr√©nom*:</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>
                <div class="form-group">
                    <label for="lastName">Nom*:</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="ageCategory">Cat√©gorie d'√¢ge*:</label>
                    <select id="ageCategory" name="ageCategory" required>
                        <option value="">-- S√©lectionnez --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="professionalCategory">Cat√©gorie professionnelle*:</label>
                    <select id="professionalCategory" name="professionalCategory" required>
                        <option value="">-- S√©lectionnez --</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="monthlyNetIncome">Revenu mensuel net (‚Ç¨)*:</label>
                <input type="number" id="monthlyNetIncome" name="monthlyNetIncome" min="0" step="100" required>
            </div>

            <!-- Informations pr√™t -->
            <div class="section-title">üè† Param√®tres du Pr√™t</div>

            <div class="form-row">
                <div class="form-group">
                    <label for="amount">Montant du pr√™t (‚Ç¨)*:</label>
                    <input type="number" id="amount" name="amount" min="1000" step="1000" required>
                </div>
                <div class="form-group">
                    <label for="duration">Dur√©e du pr√™t (ann√©es)*:</label>
                    <input type="number" id="duration" name="duration" min="1" max="50" required>
                </div>
            </div>

            <button type="submit" class="calculate-btn">
                <span id="calculateText">üßÆ Calculer le pr√™t</span>
                <span id="loadingText" style="display: none;">‚è≥ Calcul en cours...</span>
            </button>
        </form>

        <!-- Affichage des r√©sultats -->
        <div id="result" class="result-section" style="display: none;">
            <h2>üìä R√©sultats de la simulation</h2>

            <!-- Informations client -->
            <div class="client-info">
                <h3>Client: <span id="clientName"></span></h3>
                <div class="client-details">
                    <span>Profil: <span id="clientProfile"></span></span>
                    <span>Revenu: <span id="clientIncome"></span></span>
                </div>
            </div>

            <!-- D√©tail du taux -->
            <div class="rate-detail">
                <div class="rate-item">
                    <span class="label">Taux d'int√©r√™t appliqu√©:</span>
                    <span id="appliedRate" class="rate-value"></span>
                </div>
                <div class="rate-calculation" id="rateCalculation">
                    <!-- Sera rempli dynamiquement -->
                </div>
            </div>

            <!-- R√©sultats financiers -->
            <div class="result-grid">
                <div class="result-item">
                    <span class="label">Montant emprunt√©:</span>
                    <span id="loanAmount" class="value"></span>
                </div>
                <div class="result-item">
                    <span class="label">Mensualit√©:</span>
                    <span id="monthlyPayment" class="value"></span>
                </div>
                <div class="result-item">
                    <span class="label">Co√ªt total des int√©r√™ts:</span>
                    <span id="totalInterest" class="value"></span>
                </div>
                <div class="result-item highlight">
                    <span class="label">Co√ªt total du pr√™t:</span>
                    <span id="totalCost" class="value"></span>
                </div>
            </div>

            <!-- Boutons d'action -->
            <div class="action-buttons">
                <button id="saveSimulationBtn" class="save-btn" style="display: none;">
                    <span id="saveText">üíæ Sauvegarder cette simulation</span>
                    <span id="savingText" style="display: none;">‚è≥ Sauvegarde en cours...</span>
                </button>
                <div id="saveSuccess" class="success-message" style="display: none;">
                    ‚úÖ Simulation sauvegard√©e avec succ√®s !
                </div>
            </div>
        </div>

        <div id="error" class="error-message" style="display: none;"></div>

        <!-- Navigation -->
        <div class="navigation">
            <a href="/" class="nav-link">üè† Retour √† l'accueil</a>
            <a href="history.html" class="nav-link">üìã Historique des simulations</a>
        </div>
    </div>

    <script src="employee.js"></script>
</body>
</html>